apply plugin: 'com.jfrog.artifactory'
apply plugin: 'digital.wup.android-maven-publish'
apply from: 'config/gradle/versioning.gradle'

publishing {
    publications {
        sdk(MavenPublication) {
            if (components.hasWithName("java")) {
                from components.java
            } else if (components.hasWithName("android")) {
                from components.android
            }

            groupId 'me.digi'
            artifactId 'sdk'
            version "$versions.sdk"
        }
    }
}

artifactory {
    contextUrl = "https://repository.sysdigi.net/m2/"
    publish {
        repository {
            repoKey = "libs-internal-local"
            username = "USER-HERE"
            password = "PASSWORD-HERE"
        }
        defaults {
            publications('sdk')
            publishArtifacts = true
            publishPom = true
        }
    }
}