<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Getting Started  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Getting Started  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (0% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/digime/digime-sdk-android">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fgithub%2Eio%2Fdigime%2Fdocsets%2F%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" />
      Getting Started  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="error-handling.html">Error Handling</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started.html">Getting Started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="guest-consent.html">Guest Consent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="migration-tips.html">Migration Tips</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="ongoing-access.html">Ongoing Access</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="postbox.html">Postbox</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="raw-data.html">Raw Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="scope.html">Scope</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p><img src="https://securedownloads.digi.me/partners/digime/SDKReadmeBanner.png" alt=""></p>

<p align="center">
    <a href="https://developers.digi.me/slack/join">
        <img src="https://img.shields.io/badge/chat-slack-blueviolet.svg" alt="Developer Chat">
    </a>
    <a href="../../LICENSE">
        <img src="https://img.shields.io/badge/license-apache 2.0-blue.svg" alt="Apache 2.0 License">
    </a>
    <a href="#">
        <img src="https://img.shields.io/badge/build-passing-brightgreen.svg">
    </a>
    <a href="https://kotlinlang.org">
        <img src="https://img.shields.io/badge/language-kotlin/java-ff69b4.svg" alt="Kotlin/Java">
    </a>
    <a href="https://developers.digi.me">
        <img src="https://img.shields.io/badge/web-digi.me-red.svg" alt="Web">
    </a>
    <a href="https://digime.freshdesk.com/support/home">
        <img src="https://img.shields.io/badge/support-freshdesk-721744.svg" alt="Support">
    </a>
</p>

<p><br></p>
<h2 id='introduction' class='heading'>Introduction</h2>

<p>The digi.me private sharing platform empowers developers to make use of user data from thousands of sources in a way that fully respects a user&rsquo;s privacy, and whilst conforming to GDPR. Our consent driven solution allows you to define exactly what terms you want data by, and the user to see these completely transparently, allowing them to make an informed choice as to whether to grant consent or not.</p>
<h2 id='requirements' class='heading'>Requirements</h2>
<h3 id='development' class='heading'>Development</h3>

<ul>
<li>Android Studio 3.0 or newer.</li>
<li>Gradle 5.0 or newer.</li>
<li>Kotlin 1.30 or newer. <strong>*</strong></li>
</ul>

<p><strong>*</strong> The SDK is written entirely in Kotlin, but is fully compatible with Java projects.</p>
<h3 id='deployment' class='heading'>Deployment</h3>

<ul>
<li>Android 5.1 or newer (API Level 21).</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='gradle-maven' class='heading'>Gradle/Maven</h3>

<ol>
<li><p>Ensure you have the JCenter repository in your root <code>build.gradle</code> file.<br>(This is automatically added to new Android Studio projects.)</p></li>
<li><p>Include the digi.me SDK as a dependency in your app <code>build.gradle</code> file:</p>

<p><code>implementation &quot;me.digi:sdk:2.1.0&quot;</code></p></li>
</ol>
<h3 id='manual' class='heading'>Manual</h3>

<ol>
<li>Download the source code for the SDK.</li>
<li>In Android Studio, import the SDK as a module.</li>
<li><p>In your app <code>build.gradle</code>, include the module as a dependency:</p>

<p><code>implementation project(&quot;:sdk&quot;)</code></p></li>
</ol>
<h2 id='getting-started-5-simple-steps' class='heading'>Getting Started - 5 Simple Steps!</h2>

<p>We have taken the most common use case for the digi.me Private Sharing SDK and compiled a quick start guide, which you can find below. Nonetheless, we implore you to <a href="https://digime.github.io/digime-sdk-android/">explore the documentation further</a>.</p>

<p>This example will show you how to configure the SDK, and get you up and running with <strong>retrieving user data</strong>.</p>
<h3 id='1-obtaining-your-contract-id-application-id-amp-private-key' class='heading'>1. Obtaining your Contract ID, Application ID &amp; Private Key:</h3>

<p>To access the digi.me platform, you need to obtain an <code>AppID</code> for your application. You can get yours by filling out the registration form <a href="https://go.digi.me/developers/register">here</a>.</p>

<p>In a production environment, you will also be required to obtain your own <code>Contract ID</code> and <code>Private Key</code> from digi.me support. However, for sandbox purposes, we provide the following example values:</p>

<p><strong>Example Contract ID:</strong> <code>fJI8P5Z4cIhP3HawlXVvxWBrbyj5QkTF</code>
<br>
<strong>Example Private Key:</strong>
    <br>&nbsp;&nbsp;&nbsp;&nbsp;Download: <a href="https://securedownloads.digi.me/partners/digime/fJI8P5Z4cIhP3HawlXVvxWBrbyj5QkTF.p12">P12 Key Store</a>
    <br>&nbsp;&nbsp;&nbsp;&nbsp;Password: <code>monkey periscope</code></p>

<p>You should include the P12 file in your project assets folder.</p>
<h3 id='2-configuring-callback-forwarding' class='heading'>2. Configuring Callback Forwarding:</h3>

<p>Because the digi.me Private Sharing SDK communicates with the digi.me app, you are required to forward invocations of <code>onActivityResult</code> through to the SDK so that it may process responses. In any activity that will be resposible for invoking methods on the SDK, override <code>onActivityResult</code> as below:</p>
<pre class="highlight kotlin"><code><span class="k">override</span> <span class="k">fun</span> <span class="nf">onActivityResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">resultCode</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nc">Intent</span><span class="p">?)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="nf">onActivityResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span> <span class="n">responseCode</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="nc">DMEAppCommunicator</span><span class="p">.</span><span class="nf">getSharedInstance</span><span class="p">().</span><span class="nf">onActivityResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span> <span class="n">responseCode</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h3 id='3-configuring-the-code-dmepullclient-code-object' class='heading'>3. Configuring the <code>DMEPullClient</code> object:</h3>

<p><code>DMEPullClient</code> is the object you will primarily interface with to use the SDK. It is instantiated with a context, and a <code>DMEPullConfiguration</code> object. <strong>The provided context should always be the main application context.</strong></p>

<p>The <code>DMEPullConfiguration</code> object is instantiated with your <code>AppID</code>, <code>Contract ID</code> and <code>Private Key</code> in hex format. We provide a convenience method to extract the private key. The below code snippet shows you how to combine all this to get a configured <code>DMEPullClient</code>:</p>
<pre class="highlight kotlin"><code><span class="kd">val</span> <span class="py">privateKeyHex</span> <span class="p">=</span> <span class="nc">DMECryptoUtilities</span><span class="p">(</span><span class="n">applicationContext</span><span class="p">).</span><span class="nf">privateKeyHexFrom</span><span class="p">(</span><span class="s">"p12-filename"</span><span class="p">,</span> <span class="s">"p12-password"</span><span class="p">)</span>
<span class="kd">val</span> <span class="py">configuration</span> <span class="p">=</span> <span class="nc">DMEPullConfiguration</span><span class="p">(</span><span class="s">"app-id"</span><span class="p">,</span> <span class="s">"contract-id"</span><span class="p">,</span> <span class="n">privateKeyHex</span><span class="p">)</span>
<span class="kd">val</span> <span class="py">pullClient</span> <span class="p">=</span> <span class="nc">DMEPullClient</span><span class="p">(</span><span class="n">applicationContext</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</code></pre>
<h3 id='4-requesting-consent' class='heading'>4. Requesting Consent:</h3>

<p>Before you can access a user&rsquo;s data, you must obtain their consent. This is achieved by calling <code>authorize</code> on your client object:</p>
<pre class="highlight kotlin"><code><span class="n">pullClient</span><span class="p">.</span><span class="nf">authorize</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">{</span> <span class="n">session</span><span class="p">,</span> <span class="n">error</span> <span class="p">-&gt;</span>

<span class="p">}</span>
</code></pre>

<p><em>NB: <code>this</code> represents the activity which is setup to forward <code>onActivityResult</code>, as above.</em></p>

<p>If a user grants consent, a session will be created and returned; this is used by subsequent calls to get data. If the user denies consent, an error stating this is returned. See <a href="https://digime.github.io/digime-sdk-android/error-handling.html">Handling Errors</a>.</p>
<h3 id='5-fetching-data' class='heading'>5. Fetching Data:</h3>

<p>Once you have a session, you can request data. We strive to make this as simple as possible, so expose a single method to do so: </p>
<pre class="highlight kotlin"><code><span class="n">pullClient</span><span class="p">.</span><span class="nf">getSessionData</span><span class="p">({</span> <span class="n">file</span><span class="p">,</span> <span class="n">error</span> <span class="p">-&gt;</span>
    <span class="c1">// Handle each downloaded file here.</span>
<span class="p">})</span> <span class="p">{</span> <span class="n">fileList</span><span class="p">,</span> <span class="n">error</span> <span class="p">-&gt;</span>
    <span class="c1">// Any errors interupting the flow of data will be directed here, or null once all files are retrieved.</span>
    <span class="c1">// The file list here will represent the complete list of files that were downloaded.</span>
<span class="p">}</span>
</code></pre>

<p>For each file, the first &lsquo;file handler&rsquo; block will be called. If the download was successful, you will receive a <code>DMEFile</code> object. If the download fails, an error. </p>

<p>Once all files are downloaded, the second block will be invoked to inform you of this. In the case that the data stream is interrupted, or if the session obtained above isn&rsquo;t valid (it may have expired, for example), you will receive an error in the second block. See <a href="https://digime.github.io/digime-sdk-android/error-handling.html">Handling Errors</a>.</p>

<p><code>DMEFile</code> exposes the method <code>fileContentAsJSON</code> which attempts to decode the binary file into a JSON map, so that you can easily extract the values you need to power your app. Not all files can be represented as JSON, see <a href="https://digime.github.io/digime-sdk-android/raw-data.html">Raw Data</a> for details.</p>
<h2 id='contributions' class='heading'>Contributions</h2>

<p>digi.me prides itself in offering our SDKs completely open source, under the <a href="./LICENCE.md">Apache 2.0 Licence</a>; we welcome contributions from all developers.</p>

<p>We ask that when contributing, you ensure your changes meet our <a href="">Contribution Guidelines</a> before submitting a pull request.</p>
<h2 id='further-reading' class='heading'>Further Reading</h2>

<p>The topics discussed under <a href="#getting-started---5-simple-steps">Quick Start</a> are just a small part of the power digi.me Private Sharing gives to data consumers such as yourself. We highly encourage you to explore the <a href="https://digime.github.io/digime-sdk-android/">Documentation</a> for more in-depth examples and guides, as well as troubleshooting advice and showcases of the plethora of capabilities on offer.</p>

<p>Additionally, there are a number of example apps built on digi.me in the examples folder. Feel free to have a look at those to get an insight into the power of Private Sharing.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-02-04)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.11.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
